{"version":3,"sources":["Ghost.tsx","Simple.tsx","App.tsx","registerServiceWorker.ts","index.tsx"],"names":["ContentElement","className","style","handleRef","value","ref","React","useDragStopPropagation","backgroundColor","color","postProcess","props","defaultPostProcessor","deltaY","current","clientHeight","Content","changeColor","onDrop","dragProps","delay","onDragStart","document","body","cursor","onDragEnd","isDragged","method","monitor","nodeRef","a","getBoundingClientRect","x","left","right","isHovered","display","textAlign","position","undefined","GhostExample","Array","fill","map","_","i","randomPart","Math","floor","random","randomColor","key","GhostExampleTitle","initialValues","SimpleExample","dropped","changeDropped","values","filter","v","indexOf","border","length","join","App","to","path","component","Ghost","Simple","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","ReactDOM","getElementById","URL","process","toString","origin","addEventListener","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.40e896c1.chunk.js","sourcesContent":["import * as React from \"react\";\n\nimport {\n  DragDropContainer,\n  Draggable,\n  Droppable,\n  defaultPostProcessor,\n  useDragStopPropagation\n} from \"react-draggable-hoc\";\n\nconst randomColor = () => {\n  const randomPart = () => Math.floor(Math.random() * 255);\n  return \"rgb(\" + randomPart() + \",\" + randomPart() + \",\" + randomPart() + \")\";\n};\n\n// use a separate component to create a ghost\nconst ContentElement = ({ className = \"\", style, handleRef, value }: any) => {\n  const ref = React.useRef(null);\n  useDragStopPropagation(ref, \"dragStart\");\n  return (\n    <span style={style} className={`Cell ${className}`} ref={handleRef}>\n      <div className=\"handle\">\n        <div className=\"bar\" style={{ backgroundColor: style.color }} />\n        <div className=\"bar\" style={{ backgroundColor: style.color }} />\n        <div className=\"bar\" style={{ backgroundColor: style.color }} />\n      </div>\n      <span ref={ref}>{value}</span>\n    </span>\n  );\n};\n\ninterface IContentProps {\n  value: string;\n  backgroundColor: string;\n}\n\nconst postProcess = (props: any, ref: any) => {\n  return {\n    ...defaultPostProcessor(props, ref),\n    deltaY: ref && ref.current ? ref.current.clientHeight : 0\n  };\n};\n\nconst Content = ({ backgroundColor, value }: IContentProps) => {\n  const [color, changeColor] = React.useState<string>();\n\n  const onDrop = (dragProps: string) => {\n    changeColor(dragProps);\n  };\n\n  return (\n    <Draggable\n      delay={100}\n      dragProps={backgroundColor}\n      postProcess={postProcess}\n      onDragStart={() => {\n        document.body.style.cursor = \"ew-resize\";\n      }}\n      onDragEnd={() => {\n        document.body.style.cursor = \"default\";\n      }}\n    >\n      {({ handleRef, isDragged }: any) =>\n        handleRef != null ? (\n          <Droppable\n            onDrop={onDrop}\n            method={(monitor, nodeRef) => {\n              const a = nodeRef.current.getBoundingClientRect();\n              const { x } = monitor.current!;\n\n              return a.left <= x && a.right >= x;\n            }}\n          >\n            {({ isHovered, ref }: any) => (\n              <div\n                style={{\n                  display: \"inline-block\",\n                  textAlign: \"left\",\n                  position: \"relative\"\n                }}\n                ref={ref}\n              >\n                {/* change text color when element is dragged */}\n                <ContentElement\n                  value={value}\n                  style={{\n                    backgroundColor,\n                    color: isDragged ? \"red\" : color\n                  }}\n                  className={isHovered ? \"hovered\" : undefined}\n                  handleRef={handleRef}\n                />\n              </div>\n            )}\n          </Droppable>\n        ) : (\n          <ContentElement\n            value={value}\n            style={{\n              backgroundColor,\n              color\n            }}\n          />\n        )\n      }\n    </Draggable>\n  );\n};\n\nexport const GhostExample = () => (\n  <DragDropContainer className=\"Ghost-container\">\n    {({ ref }) => (\n      <div className=\"Ghost-container\" ref={ref}>\n        {Array(20)\n          .fill(0)\n          .map((_, i) => {\n            const color = randomColor();\n            return (\n              <Content backgroundColor={color} value={`Hello ${i}`} key={i} />\n            );\n          })}\n      </div>\n    )}\n  </DragDropContainer>\n);\n\nexport const GhostExampleTitle = () => (\n  <p>\n    Scrollable container, <br />\n    draggable and droppable elements <br />\n    with a ghost stuck to row bottom <br />\n    custom hover implementation <br />\n    drag handle <br />\n    and a delay of 100ms <br />\n    ew-resize cursor on drag\n  </p>\n);\n\nexport default () => (\n  <React.Fragment>\n    <GhostExampleTitle />\n    <GhostExample />\n  </React.Fragment>\n);\n","import * as React from \"react\";\n\nimport { DragDropContainer, Draggable, Droppable } from \"react-draggable-hoc\";\n\nconst initialValues = Array(400)\n  .fill(undefined)\n  .map((_, i) => i + 1);\n\nexport const SimpleExample = () => {\n  const [dropped, changeDropped] = React.useState<number[]>([]);\n  const values = React.useMemo(\n    () => initialValues.filter(v => dropped.indexOf(v) < 0),\n    [dropped]\n  );\n\n  const onDrop = (dragProps: number) => {\n    changeDropped([...dropped, dragProps]);\n  };\n\n  return (\n    <DragDropContainer className=\"Simple-page-container\">\n      <div className=\"Simple-row scrollable\">\n        {values.map(i => (\n          <Draggable key={i} dragProps={i} className=\"Simple-cell\">\n            <div className=\"Cell-simple\">\n              <span className=\"Handle\">::</span>\n              <span>{i}</span>\n            </div>\n          </Draggable>\n        ))}\n      </div>\n      <Droppable onDrop={onDrop}>\n        {({ isHovered, ref, dragProps }: any) => (\n          <div\n            className=\"Simple-bin\"\n            ref={ref}\n            style={{\n              backgroundColor: isHovered ? \"rgba(0, 130, 20, 0.2)\" : undefined,\n              border: dragProps ? \"1px dashed #ccc\" : undefined\n            }}\n          >\n            {values.length > 0\n              ? dragProps\n                ? \"Drop it here\"\n                : \"Start dragging\"\n              : \"Nothing to drag\"}\n            <div>Dropped values: [{dropped.join(\", \")}]</div>\n          </div>\n        )}\n      </Droppable>\n    </DragDropContainer>\n  );\n};\n\nexport default () => (\n  <React.Fragment>\n    <p>\n      Simple Draggable and Droppable\n      <br />\n    </p>\n    <SimpleExample />\n  </React.Fragment>\n);\n","import * as React from \"react\";\nimport { NavLink, Redirect, Route, Switch } from \"react-router-dom\";\n\nimport Ghost from \"./Ghost\";\nimport Simple from \"./Simple\";\n\nimport \"./App.css\";\n\nclass App extends React.Component {\n  public render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1 className=\"App-title\">react-draggable-hoc demo</h1>\n          <menu>\n            <NavLink to=\"/demo/ghost\">Complex</NavLink>\n            <NavLink to=\"/demo/simple\">Simple</NavLink>\n          </menu>\n        </header>\n        <section>\n          <Switch>\n            <Route path=\"/demo/ghost\" component={Ghost} />\n            <Route path=\"/demo/simple\" component={Simple} />\n            <Redirect to=\"/demo/simple\" />\n          </Switch>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL!,\n      window.location.toString()\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        }\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type')!.indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import \"raf/polyfill\";\n\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\n\nimport App from \"./App\";\nimport \"./index.css\";\nimport registerServiceWorker from \"./registerServiceWorker\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\") as HTMLElement\n);\nregisterServiceWorker();\n"],"sourceRoot":""}